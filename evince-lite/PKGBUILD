# Contributor: Dave Reisner (d@falconindy.com)

pkgname=evince-lite
pkgbasename=evince
pkgver=2.28.1
pkgrel=1
pkgdesc="A stripped down version of the GNOME document viewer"
url="http://www.gnome.org"
arch=(i686 x86_64)
license=('GPL')
depends=('gnome-icon-theme>=2.28.0' 'libspectre>=0.2.3' 'gsfonts' 'poppler-glib>=0.12.1' 'desktop-file-utils')
makedepends=('gnome-doc-utils>=0.18.0' 'pkgconfig' 'intltool')
replaces=('gpdf')
conflicts=('evince')
install=evince-lite.install
options=('!libtool' '!emptydirs')
source=(http://ftp.gnome.org/pub/gnome/sources/${pkgbasename}/2.28/${pkgbasename}-${pkgver}.tar.bz2)
sha256sums=('c64047d4dc8424b613274651a5ef6bc78d306fc71bef36a3e033c07ddc2487a6')

build() {
  cd "${srcdir}/${pkgbasename}-${pkgver}"
  ./configure --prefix=/usr --sysconfdir=/etc \
      --localstatedir=/var --disable-static \
      --disable-nautilus \
      --without-keyring \
      --without-gconf \
      --disable-thumbnailer \
      --disable-previewer \
      --disable-scrollkeeper \
      --enable-pdf \
      --enable-comics \
      --enable-pixbuf || return 1
  make || return 1
  make DESTDIR="${pkgdir}" install || return 1
  
}
